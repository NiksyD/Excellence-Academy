@model IEnumerable<MyWebApplication.Models.ActivityReservation>
@{
	ViewData["Title"] = "Activity Reservations - Excellence Academy";
}

<!-- Header Section -->
<section class="bg-primary text-white py-4" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
	<div class="container">
		<div class="row align-items-center">
			<div class="col-md-8">
				<h1 class="display-5 fw-bold mb-2">
					<i class="fas fa-calendar-alt me-3"></i>Activity Reservations
				</h1>
				<p class="lead mb-0">Manage activity area reservation applications and approvals</p>
			</div>
			<div class="col-md-4 text-md-end">
				<a asp-controller="ActivityReservation" asp-action="Create" class="btn btn-light btn-lg rounded-pill px-4">
					<i class="fas fa-plus me-2"></i>New Reservation
				</a>
			</div>
		</div>
	</div>
</section>

<!-- Main Content -->
<div class="container py-5">
	<!-- Statistics Cards -->
	<div class="row mb-5">
		<div class="col-md-3 col-6 mb-3">
			<div class="card bg-primary text-white h-100">
				<div class="card-body text-center">
					<i class="fas fa-file-alt fa-2x mb-2"></i>
					<h4 class="fw-bold">@(Model?.Count() ?? 0)</h4>
					<p class="mb-0">Total Reservations</p>
				</div>
			</div>
		</div>
		<div class="col-md-3 col-6 mb-3">
			<div class="card bg-warning text-white h-100">
				<div class="card-body text-center">
					<i class="fas fa-clock fa-2x mb-2"></i>
					<h4 class="fw-bold">@(Model?.Where(r => r.Status == "Pending").Count() ?? 0)</h4>
					<p class="mb-0">Pending</p>
				</div>
			</div>
		</div>
		<div class="col-md-3 col-6 mb-3">
			<div class="card bg-success text-white h-100">
				<div class="card-body text-center">
					<i class="fas fa-check-circle fa-2x mb-2"></i>
					<h4 class="fw-bold">@(Model?.Where(r => r.Status == "Approved").Count() ?? 0)</h4>
					<p class="mb-0">Approved</p>
				</div>
			</div>
		</div>
		<div class="col-md-3 col-6 mb-3">
			<div class="card bg-danger text-white h-100">
				<div class="card-body text-center">
					<i class="fas fa-times-circle fa-2x mb-2"></i>
					<h4 class="fw-bold">@(Model?.Where(r => r.Status == "Rejected").Count() ?? 0)</h4>
					<p class="mb-0">Rejected</p>
				</div>
			</div>
		</div>
	</div>

	<!-- Activity Reservations Table -->
	<div class="card shadow-sm">
		<div class="card-header bg-light">
			<h5 class="mb-0"><i class="fas fa-table me-2"></i>Activity Reservations</h5>
		</div>
		<div class="card-body p-0">
			@if (Model != null && Model.Any())
			{
				<div class="table-responsive">
					<table class="table table-hover mb-0">
						<thead class="table-primary">
							<tr>
								<th class="px-4 py-3">ID</th>
								<th class="px-4 py-3">Organization</th>
								<th class="px-4 py-3">Activity Title</th>
								<th class="px-4 py-3">Venue</th>
								<th class="px-4 py-3">Date Needed</th>
								<th class="px-4 py-3">Status</th>
								<th class="px-4 py-3 text-center">Actions</th>
							</tr>
						</thead>
						<tbody>
							@foreach (var reservation in Model)
							{
								<tr>
									<td class="px-4 py-3">#@reservation.Id</td>
									<td class="px-4 py-3">@reservation.OrganizationName</td>
									<td class="px-4 py-3">@reservation.ActivityTitle</td>
									<td class="px-4 py-3">@reservation.Venue</td>
									<td class="px-4 py-3">@reservation.DateNeeded.ToString("MMM dd, yyyy")</td>
									<td class="px-4 py-3">
										@if (reservation.Status == "Pending")
										{
											<span class="badge bg-warning">Pending</span>
										}
										else if (reservation.Status == "Approved")
										{
											<span class="badge bg-success">Approved</span>
										}
										else if (reservation.Status == "Rejected")
										{
											<span class="badge bg-danger">Rejected</span>
										}
									</td>
									<td class="px-4 py-3 text-center">
										<div class="btn-group" role="group">
											<a asp-action="Details" asp-route-id="@reservation.Id" class="btn btn-outline-info btn-sm">
												<i class="fas fa-eye"></i>
											</a>
											@if (reservation.Status == "Pending")
											{
												<a asp-action="Edit" asp-route-id="@reservation.Id" class="btn btn-outline-warning btn-sm">
													<i class="fas fa-edit"></i>
												</a>
												<a asp-action="Review" asp-route-id="@reservation.Id" class="btn btn-outline-success btn-sm">
													<i class="fas fa-clipboard-check"></i>
												</a>
											}
										</div>
									</td>
								</tr>
							}
						</tbody>
					</table>
				</div>
			}
			else
			{
				<div class="text-center py-5">
					<i class="fas fa-calendar-alt fa-4x text-muted mb-3"></i>
					<h4 class="text-muted">No Activity Reservations Found</h4>
					<p class="text-muted mb-4">Start by creating your first activity reservation.</p>
					<a asp-controller="ActivityReservation" asp-action="Create" class="btn btn-primary btn-lg rounded-pill px-4">
						<i class="fas fa-plus me-2"></i>Create First Reservation
					</a>
				</div>
			}
		</div>
	</div>
</div>