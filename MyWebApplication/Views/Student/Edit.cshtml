@model MyWebApplication.Models.Student
@{
	ViewData["Title"] = "Edit Student - Excellence Academy";
}

@section Styles {
	<link rel="stylesheet" href="~/css/Shared/form-page.css" asp-append-version="true" />
}

<!-- Header Section - Mac Style -->
<section class="form-header">
	<div class="container">
		<div class="row align-items-center">
			<div class="col-md-8 mb-3 mb-md-0">
				<h1 class="mb-2">
					<i class="fas fa-edit me-3 header-icon"></i>Edit Student
				</h1>
				<p class="lead mb-0">Update student information for @Model.Firstname @Model.Lastname</p>
			</div>
			<div class="col-md-4 text-md-end">
				<a asp-action="Index" class="btn-cancel-mac">
					<i class="fas fa-arrow-left"></i>Back to List
				</a>
			</div>
		</div>
	</div>
</section>

<!-- Main Content -->
<div class="container py-5">
	<div class="row justify-content-center">
		<div class="col-lg-8">
			<div class="form-card fade-in-up" style="animation-delay: 0.1s">
				<div class="form-card-header">
					<h5>
						<i class="fas fa-edit"></i>
						Edit Student Information
					</h5>
				</div>
				<div class="form-card-body">
					<form method="post" asp-action="Edit" id="editStudentForm">
						<div class="row g-4">
							<!-- Student ID (Read-only) -->
							<div class="col-12">
								<div class="alert alert-warning">
									<i class="fas fa-exclamation-triangle me-2"></i>
									<strong>Note:</strong> You are editing Student <strong>#@Model.Id</strong>
								</div>
							</div>
							
							<!-- Personal Information Section -->
							<div class="col-12">
								<h5 class="text-primary mb-3">
									<i class="fas fa-user me-2"></i>Personal Information
								</h5>
								<hr class="mb-4">
							</div>
							
							<input type="hidden" asp-for="Id" />
							
							<div class="col-md-6">
								<div class="form-group-mac">
									<label asp-for="Firstname" class="form-label-mac">
										<i class="fas fa-user"></i>First Name<span class="required">*</span>
									</label>
									<input asp-for="Firstname" class="form-control-mac" placeholder="Enter first name" />
									<span asp-validation-for="Firstname" class="invalid-feedback-mac"></span>
								</div>
							</div>
							
							<div class="col-md-6">
								<div class="form-group-mac">
									<label asp-for="Lastname" class="form-label-mac">
										<i class="fas fa-user"></i>Last Name<span class="required">*</span>
									</label>
									<input asp-for="Lastname" class="form-control-mac" placeholder="Enter last name" />
									<span asp-validation-for="Lastname" class="invalid-feedback-mac"></span>
								</div>
							</div>
							
							<div class="col-md-6">
								<div class="form-group-mac">
									<label asp-for="Email" class="form-label-mac">
										<i class="fas fa-envelope"></i>Email Address<span class="required">*</span>
									</label>
									<input asp-for="Email" type="email" class="form-control-mac" placeholder="student@email.com" />
									<span asp-validation-for="Email" class="invalid-feedback-mac"></span>
								</div>
							</div>
							
							<!-- Academic Information Section -->
							<div class="col-12 mt-4">
								<h5 class="text-primary mb-3">
									<i class="fas fa-book me-2"></i>Academic Information
								</h5>
								<hr class="mb-4">
							</div>
							
							<div class="col-md-6">
								<div class="form-group-mac">
									<label asp-for="Course" class="form-label-mac">
										<i class="fas fa-graduation-cap"></i>Academic Program<span class="required">*</span>
									</label>
									<select asp-for="Course" class="form-select-mac">
										<option value="">Select a Program</option>
										<option value="Science & Technology">Science & Technology</option>
										<option value="Arts & Humanities">Arts & Humanities</option>
										<option value="Business Studies">Business Studies</option>
										<option value="Engineering">Engineering</option>
										<option value="Medicine">Medicine</option>
										<option value="Computer Science">Computer Science</option>
									</select>
									<span asp-validation-for="Course" class="invalid-feedback-mac"></span>
								</div>
							</div>
							
							<div class="col-md-6">
								<div class="form-group-mac">
									<label asp-for="DateCreated" class="form-label-mac">
										<i class="fas fa-calendar"></i>Enrollment Date<span class="required">*</span>
									</label>
									<input asp-for="DateCreated" type="date" class="form-control-mac" />
									<span asp-validation-for="DateCreated" class="invalid-feedback-mac"></span>
								</div>
							</div>
							
							<!-- Student Preview Card -->
							<div class="col-12 mt-4">
								<div class="card bg-light border-0">
									<div class="card-body">
										<h6 class="text-primary mb-3">
											<i class="fas fa-eye me-2"></i>Updated Student Preview
										</h6>
										<div class="d-flex align-items-center">
											<div class="avatar bg-primary rounded-circle me-3 d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
												<span class="text-white fw-bold" id="previewInitials">@(Model.Firstname?.Substring(0, 1))@(Model.Lastname?.Substring(0, 1))</span>
											</div>
											<div>
												<div class="fw-bold" id="previewName">@Model.Firstname @Model.Lastname</div>
												<div class="text-muted small" id="previewEmail">@Model.Email</div>
												<div class="text-muted small" id="previewCourse">@Model.Course</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						
						<!-- Form Actions -->
						<div class="row mt-5">
							<div class="col-12">
								<div class="form-actions">
									<a asp-action="Details" asp-route-id="@Model.Id" class="btn-cancel-mac">
										<i class="fas fa-times"></i>Cancel
									</a>
									<button type="submit" class="btn-submit-mac">
										<i class="fas fa-save"></i>Update Student
									</button>
								</div>
							</div>
						</div>
					</form>
				</div>
			</div>
			
			<!-- Change History Section -->
			<div class="card mt-4 border-0 bg-light">
				<div class="card-body">
					<h6 class="text-primary mb-3">
						<i class="fas fa-history me-2"></i>Student Information
					</h6>
					<div class="row">
						<div class="col-md-6">
							<small class="text-muted">
								<strong>Student ID:</strong> #@Model.Id<br>
								<strong>Enrolled:</strong> @Model.DateCreated.ToString("MMMM dd, yyyy")
							</small>
						</div>
						<div class="col-md-6">
							<small class="text-muted">
								<strong>Last Modified:</strong> @DateTime.Now.ToString("MMMM dd, yyyy")<br>
								<strong>Status:</strong> <span class="badge bg-success">Active</span>
							</small>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

@section Scripts {
	@{
		<partial name="_ValidationScriptsPartial" />
	}
	<script src="~/js/Student/edit.js"></script>
}