@model MyWebApplication.Models.Student
@{
	ViewData["Title"] = "Delete Student - Excellence Academy";
}

<!-- Header Section -->
<section class="bg-danger text-white py-5" style="background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);">
	<div class="container">
		<div class="row align-items-center">
			<div class="col-md-8 mb-3 mb-md-0">
				<h1 class="display-6 fw-bold mb-2">
					<i class="fas fa-trash-alt me-3"></i>Delete Student
				</h1>
				<p class="lead mb-0">Confirm deletion of student record</p>
			</div>
			<div class="col-md-4 text-md-end">
				<a asp-action="Index" class="btn btn-light btn-lg rounded px-4">
					<i class="fas fa-arrow-left me-2"></i>Back to List
				</a>
			</div>
		</div>
	</div>
</section>

<!-- Main Content -->
<div class="container py-5">
	<div class="row justify-content-center">
		<div class="col-lg-8">
			<!-- Warning Card -->
			<div class="card shadow-lg border-danger">
				<div class="card-header bg-danger text-white">
					<h5 class="mb-0">
						<i class="fas fa-exclamation-triangle me-2"></i>
						Confirm Deletion
					</h5>
				</div>
				<div class="card-body">
					<div class="alert alert-warning mb-4">
						<i class="fas fa-exclamation-triangle me-2"></i>
						<strong>Warning:</strong> This action cannot be undone. The student record will be permanently deleted.
					</div>

					<!-- Student Summary -->
					<div class="row mb-4">
						<div class="col-md-6">
							<h6 class="text-muted mb-3">Student Details</h6>
							<div class="mb-2">
								<strong>Student ID:</strong> #@Model.Id
							</div>
							<div class="mb-2">
								<strong>First Name:</strong> @Model.Firstname
							</div>
							<div class="mb-2">
								<strong>Last Name:</strong> @Model.Lastname
							</div>
							<div class="mb-2">
								<strong>Email:</strong> @Model.Email
							</div>
						</div>
						<div class="col-md-6">
							<h6 class="text-muted mb-3">Academic Information</h6>
							<div class="mb-2">
								<strong>Course:</strong> @Model.Course
							</div>
							<div class="mb-2">
								<strong>Date Created:</strong> @Model.DateCreated.ToString("MMM dd, yyyy")
							</div>
						</div>
					</div>

					<!-- Confirmation Form -->
					<form asp-action="Delete" method="post">
						<input type="hidden" asp-for="Id" />
						@Html.AntiForgeryToken()
						
						<div class="d-flex flex-column flex-sm-row justify-content-between align-items-stretch gap-3">
							<a asp-action="Index" class="btn btn-outline-secondary btn-lg rounded px-4">
								<i class="fas fa-times me-2"></i>Cancel
							</a>
							<button type="button" class="btn btn-danger btn-lg rounded px-5" data-bs-toggle="modal" data-bs-target="#confirmDeleteModal">
								<i class="fas fa-trash-alt me-2"></i>Delete Student
							</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- Confirmation Modal -->
<div class="modal fade" id="confirmDeleteModal" tabindex="-1" aria-labelledby="confirmDeleteModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content">
			<div class="modal-header bg-danger text-white">
				<h5 class="modal-title" id="confirmDeleteModalLabel">
					<i class="fas fa-trash-alt me-2"></i>Confirm Deletion
				</h5>
				<button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
				<div class="text-center mb-3">
					<i class="fas fa-exclamation-triangle text-danger" style="font-size: 3rem;"></i>
				</div>
				<p class="text-center mb-3">Are you absolutely sure you want to delete this student record?</p>
				<div class="alert alert-danger">
					<i class="fas fa-exclamation-triangle me-2"></i>
					This will permanently delete:
					<ul class="mb-0 mt-2">
						<li>Student #@Model.Id: <strong>@Model.Firstname @Model.Lastname</strong></li>
						<li>Email: <strong>@Model.Email</strong></li>
						<li>Course: <strong>@Model.Course</strong></li>
						<li>All associated data</li>
					</ul>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
					<i class="fas fa-times me-2"></i>Cancel
				</button>
				<button type="button" class="btn btn-danger" onclick="confirmDelete()">
					<i class="fas fa-trash-alt me-2"></i>Yes, Delete Permanently
				</button>
			</div>
		</div>
	</div>
</div>

@section Scripts {
	<script>
		function confirmDelete() {
			// Close the modal
			const modal = document.getElementById('confirmDeleteModal');
			const modalInstance = bootstrap.Modal.getInstance(modal);
			modalInstance.hide();
			
			// Submit the form
			document.querySelector('form[method="post"]').submit();
		}
	</script>
}
